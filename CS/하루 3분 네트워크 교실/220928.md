## LAN과 WAN

###  네트워크의 범위

네트워크의 범위나 규모로 네트워크를 분류

### LAN

LAN(Local Area Network)

구내의 설치된 네트워크

- 좁은 범위의 네트워크
- 가정, 사무실, 빌딩 같은 사유지를 범위로 해서 사용하는 네트워크
- 연구실, 대학, 옆 연구실, 컴퓨터실, 도서관
- 작은 LAN들을 묶어서 큰 LAN이 됨

기본적으로 사용하는 쪽에서 책임지고 케이블 설치랑 라우터 배치 등을 해서 네트워크를 만드는 것

- 자기들 책임으로 자기들이 사용할 네트워크를 만드는 거니까 어느 정도는 자유롭게 만들 수 있음

지역적으로 좁은 범위에서 본인이 책임지고 구축하는 네트워크

### WAN

리소스의 공유

- 네트워크의 목적
- 공유되는 리소스가 많을수록 효율이 올라가는 것

범위 넓어질 때 문제점

- 남의 소유지를 케이블이 통과해야 함
- 자기 책임으로 케이블을 연결할 수 없음

나라의 허가를 받은 회사라면 공공장소에 케이블을 설치할 수 있음

통신사업자 : 이런 회사들 중 통신용 케이블을 설치하는 회사

- KT, LG, SKT 등이 있음

이런 회사들이 가진 케이블을 이용하면 되는 것

WAN(wide Area Netwark)

- '데이터 통신 서비스'를 제공하는 통신사업자에게 그들이 보유하고 잇는 케이블에 데이터를 전송할 권리를 구입해서 네트워크를 구축하는 것

떨어져 있는 지역의 LAN끼리 통신사업자의 통신케이블을 빌려서 연결한 네트워크

- 취급할 수 없는 범위, 도시나 지역, 국가간을 가로지르는 네트워크를 만들 수도 있음

LAN이랑 LAN을 연결해서 만들어진 네트워크

LAN : 자기가 만듬

WAN: 통신사업자에게 빌려서 만듬

WAN에도 크기가 다름

인터넷 : 세계적 규모로 사용되는 WAN

인터넷 제공 업체 : 인터넷 접속 서비스를 가진 통신사업자

통신사업자의 서비스를 통해 떨어져 있는 지역의 LAN을 연결한 네트워크

- 이 범위의 회선의 연결방법은 통신사업자에게 빌린 회선 서비스에 따라 다름
- 대학과 통신사업자를 묶는 회선, 대학은 통신사업자에게 회선 사용로 지불

통신사업자로부터 빌린 회선(네트워크)의 구성은 계약에 따라 다름

1. 멀티액세스 네트워크가 가능한 회선
2. 포인트 투 포인트 뿐인 회선

LAN과 WAN의 차이

| _           | LAN        | WAN                  |
| ----------- | ---------- | -------------------- |
| 범위        | 좁다(구내) | 넓다(지역 국가 규모) |
| 케이블 설치 | 자비       | 통신사업자           |
| 사용요금    | 무료       | 유료                 |
| 통신속도    | 고속       | 저속                 |
| 에러 발생률 | 낮다       | 높다                 |

단 WAN의 통신속도나 에러 발생률은 통신사업자와의 계약에 따라 다르다

## OSI 참조 모델

### OSI 참조 모델이란?

최초 단계인 1960~1970년대에는 각 업체가 자신들의 컴퓨터끼리 네트워크를 사용해서 데이터 통신을 할 수 있도록 컴퓨터와 통신에서 사용하는 기기, 그리고 프로토콜을 자신들의 규격으로 만듦

다른 회사와는 규격이 달라서 호환되지 않는 경우가 많음

ISO: 데이터 통신의 규격과 프로토콜을 통일하려고 했던 단체

표준화(Standardization): 이런 규격 통일

OSI 참조 모델

- ISO의 표준화 단계에서 선언한 것
- 데이터 통신의 단계 구성도
- 데이터 통신 전체를 표준화하기 위해 먼저 데이터 통신 전체의 설계도를 만듦

데이터 통신을 단계로 나누어 각 단계의 순서를 명확히 함

- 이 모델에 따라 프로토콜을 정의

실패로 끝났지만 데이터 통신을 설명하는 데 아직도 유용

### OSI 참조 모델

계층(Layer:레이어)

- 데이터 통신을 7개의 단계로 나눔

편지 주고받기에서의 단계

단계

- 내용 : 먼저 하고 싶은 말 생각
- 표현 : 비지니스 문서 형식으로 쓰자
- 전송물 : 봉투에 넣고 수신인을 쓰자
- 전송 : 수신인을 보고 수신처까지 운반하자

순서

- 내용의 규칙과 역할 
  - 상대가 이쪽의 의도를 이해할 수 있는 내용
- 표현의 규칙과 역할 
  - 내용을 실제로 표현
  - 상대가 알 수 있는 언어로 알기 쉽게 기술
- 전송물의 규칙과 역할
  - 표현에 따라 작성된 내용을 운반할 수 있는 형태로 만듦
  - 상대에게 도달하도록 수신인을 적음
- 전송의 규칙과 역할 :
  - 우편배달원
  - 표현되어 작성된 내용이 운반 가능한 형태가 되었으니 상대에게 배달
  - 수신인을 확인한다. 배달할 방법을 생각한다

#### OSI 참조 모델의 계층

7개의 계층으로 나눈다

|         |                |                                            |          |
| ------- | -------------- | ------------------------------------------ | -------- |
| 제7계층 | 응용계층       | 사용자에게 네트워크 서비스를 제공한다      | 내용표현 |
| 제6계층 | 표현계층       | 데이터의 형식을 결정한다                   | 내용표현 |
| 제5계층 | 세션계층       | 데이터 송수신의 순서 등을 관리한다         | 내용표현 |
| 제4계층 | 전송계층       | 신뢰성이 높은(에러가 적은) 전송을 시행한다 | 전송물   |
| 제3계층 | 네트워크계층   | 전송 규칙과 수신처를 결정한다.             | 전송물   |
| 제2계층 | 데이터링크계층 | 인접기기 사이의 데이터 전송을 제어한다.    | 전송     |
| 제1계층 | 물리계층       | 전기 기계적인 부분의 전송을 시행한다       | 전송     |

각 계층마다 각각의 역할과 규칙이 있음

네트워크에 의한 데이터 통신은 단계마다의 복수의 프로토콜로 실현됨

- 7계층에서 1계층으로 각각의 순서를 단계적으로 수행함으로써 데이터 통신이 가능

- 수신하는 측에서는 1계층부터 7계층까지 순서대로 각 역할을 수행함을로써 데이터를 수신

순서대로 계층의 역할을 수행해 감으로써 송수신을 할 수 있다

- 송신측에서는 7계층부터 순서대로 각 계층의 역할을 수행한다
- 수신측에서는 1계층부터 순서대로 각 계층의 역할을 수행한다

#### 장점

계층이 각각 독립해 있다

어떤 계층의 프로토콜 변경은 다른 계층에 영향을 끼치지 않는다

하위 계층은 상위 계층을 위해서 일하고 상위 계층은 하위 계층에 관여하지 않는다

## 캡슐화

### 순서의 흐름

택배의 예

운반할 물품에 운송에 필요한 것을 덧붙여간다

- 완충재

- 상자 

- 수신자명/내용물(택배송장)

수취인은 반대의 순서

- 택배 송장을 벗긴다

- 상자에서 꺼낸다

- 완충재를 제거한다

- 내용물을 입수한다

#### 이런일을 하는 이유

운반하기 위해서는 운반하고 싶은 것(데이터) 이외에 다른 것도 필요

데이터 이외의 것

- 수신처, 송신처의 주소
- 데이터 통신을 제어하기 위한 데이터

데이터와 함꼐 보냄

프로토콜 데이터 유닛(Protocol Data Unit:PDU)

- 데이터랑 데이터를 보내기 위해 필요한 것들이 통합된 상태

### 캡슐화

계층이라는 단계를 실시할 때마다 거기에서 필요한 정보를 추가할 수 있다

데이터에 통신에 필요한 데이터(제어 데이터)를 덧붙여간다

사용자 

5~7계층 : 7계층의 제어 데이터 -> 데이터

4계층 : 4계층의 제어 데이터 -> 메시지

3계층 : 3계층의 제어 데이터 -> 세그먼트 데이터그램

2계층 : 2계층의 제어 데이터 ->데이터그램 <- 2계층의 제어 데이터

1계층 : 프레임

#### 각 계층에서의 PDU의 호칭

- 세그먼트/데이터그램 : 메시지에 4계층의 제어정보를 덧붙인 상태

- TCP 세그먼트 / IP 데이터그램 : 3계층의 제어정보를 덧붙인 상태

4계층 PDU처럼 계층번호를 붙여서 부르는 경우도 있음

운반하고 싶은 데이터에 헤더를 추가해 '캡슐'을 만들어 간다.

| 계층              | 호칭                                    | 내용                                          |
| ----------------- | --------------------------------------- | --------------------------------------------- |
| 사용자            | 데이터(Data)                            | 송수신하고 싶은 데이터                        |
| 7계층 ~ 5계층 PDU | 메시지(Message)                         | 데이터를 통신용으로 변환한 것과 7계층 해더    |
| 4계층 PDU         | 세그먼트(Segement)/데이터그램(Datagram) | 메시지와 4계층 헤더                           |
| 2계층 PDU         | 프레임(Frame)                           | 데이터그램과 2계층 헤더(2계층 꼬리부)         |
| 1계층             | 신호                                    | 프레임을 전송매체로 운반하기 위한 신호로 변환 |

헤더(Header): 데이터 앞에 붙임

- 그 계층의 프로토콜명이나 계층의 번호를 붙어 'TCP 헤더'라든가 '4계층 헤더'라는 식으로도 부름

꼬리부(Trailer): 데이터 뒤에 붙임



