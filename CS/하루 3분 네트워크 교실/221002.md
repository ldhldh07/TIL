##  프로토콜

###  프로토콜이란

데이터 통신에 필요한 프로토콜은 한 개가 아니라 복수의 프로토콜로 이루어진다

각 계층마다 계층의 역할을 하는 프로토콜이 존재

- 완전히 제각각이여도 곤란함
- 너무 독립적이여서 상하 계층과 연결이 안되면 곤라

인터페이스라는 구조

- 상위 계층 프로토콜이 하위 계층 프로토콜을 이용할 수 있는 구조
- 하위 계층 프로토콜이 상위 계층 프로토콜에 데이터를 전송할 수 있는 구조
- 인터페이스는 케이블과 컴퓨터의 중개역을 의미하기도 하지만 프로토콜과 프로토콜의 중개역을 가리키는 경우에도 인터페이스라는 말을 사용

프로토콜군

- 상위 프로토콜과 하위 프로토콜을 연결하는 인터페이스를 갖고 있으면 7계층에서 1계층까지 연결된 프로토콜 그룹이 생김
- 어떤 프로토콜군을 사용하는지에 따라 7계층에서 1계층까지 사용하는 프로토콜이 정해지는 것

데이터 통신은 같은 프로토콜군을 사용하는 컴퓨터나 기기끼리만 가능

### 프로토콜이 결정하는 것

#### 헤더와 데이터

프로토콜에는 그 프로토콜이 있는 계층의 역학에 따른 기능이 있음

그것을 실현하기 위한 정보로서 헤더를 붙임

헤더의 내용은 프로토콜로 정해져 있음

데이터의 내용, 헤더의 내용은 프로토콜로 정해져 있다

- 데이터의 내용을 결정한다
- 예) 상대가 가진 파일(net, doc)를 보내달라고 정한다
  - RETR net.doc
  - RETR : 상대의 파일을 보내달라는 명령
  - net.doc 원하는 파일명
  - 문자를 비트로 만다는 규칙(문자코드)에 따라 비트화
- 여기서 프로토콜이 결정하는 것
  - 명령을 쓰는 법
  - 명령 다음에 파일명을 쓴다
  - 사용하는 문자 코드

#### 데이터와 데이터 송수신

현재의 상태를 전하는 것

에러의 수정

사용 설정을 위한 협의

프로토콜은 데이터를 송수신하는 순서와 내용을 결정한다

- 데이터를 보내는 순서
- 그 데이터의 내용
- 데이터를 받았을 때의 처리순서

데이터의 내용을 결정

헤더를 결정

송수신 순서를 결정

#### TCP/IP 프로토콜군

##### OSI 표준 프로토콜군

- 데이터 통신을 하는 컴퓨터와 기기는 동일한 프로토콜을 사용해야 함

- ISO : 이런 프로토콜을 통일하려 함

- 실패함

이 프로토콜을 대신해 TCP/IP 프로토콜군이 가장 많이 사용됨

인터넷에서 사용되는 프로토콜군

##### 사실표준(De Facto Standard)

인터넷을 사용하려고 하는 컴퓨터나 기기가 사용

인터넷이 발전하게 되면서 현재의 데이터 통신의 표준 프로톨콜로 사용됨

##### 표준과 사실 표준

표준: 규격단체가 정함

사실표준: 많은 장소에서 사용되고 있어서 표준으로 취급됨

TCP/IP 프로토콜군을 사용된 컴퓨터 및 기기가 압도적으로 많아서 실제로 제정된 표준규격은 아님

표준 규격처럼 사용할 수 밖에 없는 상태가 된 것

## TCP/IP 모델

### TCP/IP 모델

IETF(the internet Engineering Task Force)라는 단체가 제정

- 국제인터넷표준화기구

RFC(Request for commetns) : IETF에서 제정하는 문서

TCP/IP 프로토콜군은 TCP/IP모델이 베이스가 됨

TCP/IP 프로토콜군을 위한 4계층 모델

- 4계층 : 애플리케이션 계층

- 3계층 : 트랜스포트 계층

- 2계층 : 인터넷 계층

- 1계층 : 인터페이스 계층

사실 TCP/IP모델과 OSI 참조 모델은 전혀 관계가 없다

- OST 참조 모델의 3계층하고 TCP/IP 모델의 인터넷 계층은 비슷하기는 하지만 동일하지 않음

### TCP/IP 프로토콜군

다양한 프로토콜들이 제정되어 있는데다 인터넷 발전과 기술향상에 따라 지금도 계속 새로운 프로토콜이 만들어지고 있음

인터넷에서 사용되고 있는 프로토콜

4계층 애플리케이션 계층

- HTTP(Hyper Text Transfer Protocol: 홈페이지 열람)
- FTP(File Transfer Protocol : 파일 전송)
- SMTP(Simple Mail Transfer Protocol: 전자메일 송수신)

3계층 트랜스포트 계층

- TCP(Transmission Control Protocol)
- UDP(User Datagram Protocol)

2계층 인터넷 계층

- IP(Internet Protocol)
- ARP(address Resolution Protocol)

1계층 인터페이스 계층

- 이더넷(Ethernet)
- 프레임 릴레이(Frame-Relay)
- PPP(point-to point Protocol) 등
- 정확히 말하면 TCP/IP 프로토콜군이 아니다
- 단지 TCP/IP프로토콜군이 이들을 이용할 수 있다
- 사실표준이기에 빼놓을 수 없다

### 1장 정리

네트워크 : 무언가와 무언가가 무언가에 의해 연결되어서 무언가를 운반한다

네트워크 사용의 장점 : 리소스를 공유한다

네트워크를 어떻게 구축해갈지

- 데이터 통신과 거기에 필요한 기기

- 파이프 연결하는 법

  - 회로 교환

  - 패킷 교환

  - 멀티엑세스 네트워크

  - 포인트 투 포인트 네트워크

- LAN/WAN

통신을 하기 위한 규칙

- OSI 참조 모델
- 캡슐화
- 프로토콜
- OSI 참조 모델이라는 설계도에 따라 '프로토콜'이라는 통신상의 규칙이 정해짐

# 신호의 전송과 충돌

## 1계층의 역할과 개요

### 전기·기계적인 전송

1계층의 역할

케이블이 연결되어 있는 기기에 신호를 전달하는 것

- 1계층은 통신 매체에 데이터를 보내는 것과 그 데이터가 지나는 거에 대한 순서와 규칙
- 통신 매체란 케이블이며 이 케이블에 대한 규칙도 1계층에서 정해져 있음
- 신호 : 데이터가 어떻게 케이블에서 지나가는지

케이블이 연결되어 있는 기기에 대한 신호 전달

- 데이터를 전달하는 일은 1계층의 역할
- 전달하기 전과 전달한 후의 일을 하는 것이 2계층 이상의 역할

- 1계층의 역할을 통해서 수신처에 데이터를 전달할 수 있게 됨

- 반면, 2계층부터는 데이터를 보내기 전에 어떤 것을 할지, 데이터가 도달한 뒤에 어떤 것을 할지를 생각하는 것

### 통신 매체

통신 매체 : 신호가 지나는 '파이프' 역할을 하는 것

크게 '유선'하고 '무선'으로 나뉘어짐

- 유선 : 케이블
- 무선 : 케이블을 사용하지 않는 방식

파이프인 케이블과 거기로 보내는 신호 등의 규칙에 따라 실제로 상대에게 '데이터'를 전달하는 역할을 한다

인터페이스

- 컴퓨터와 케이블을 연결
- 케이블의 잭과 인터페이스 쪽의 삽입구의 형태
- 비트를 신호로 변환하는 방법

신호

- 보내지는 데이터
- 신호의 종류
- 신호의 형태

케이블

- 신호가 지나감
- 재질
- 구조

7계층->2계층 : 데이터를 신호로 보내기 전의 순서

1계층 :

- 데이터(비트)를 신호로 변환
- 신호로 상대에게 데이터를 전한다
- 신호를 비트로 변환

2계층 -> 7계층 : 데이터를 신호로 받은 후의 순서

유선을 사용하는 것이 일반적인 방식

유선 : 케이블을 사용해 신호를 보냄으로써 수신처까지 데이터가 도달하는 방식

- 광파이버 : 광신호를 사용
- 동선 : 전기신호를 사용
- 둘 다 많이 사용되지만 일반 가정이나 기업에서 보는 것은 아마 동선케이블

#### UTP(Unshileded Twist Pair cable)

동선, 동선케이블

두 개가 한 쌍이 동선 네 쌍으로 이루어져 있음

일반적으로 LAN에서 사용되는 케이블

광파이버 케이블도 옛날에 비해서 보급되기 시작했지만 UTP쪽이 압도적으로 많음

- UTP가 사용하기 편함

광파이버

- 신호의 안정과 통신속도에서는 뛰어남
- 굽히기가 어려움

UTP

- 굽히기가 쉬움
- 좁은 곳에 배선하기가 수월

#### 인터페이스

케이블에 신호를 보내고 받는 기계가 인터페이스

네트워크에 사용되는 기기는 사용할 케이블과 케이블에서 사용할 신호에 맞춘 인터페이스가 필요

케이블에서 보내온 신호를 컴퓨터에서 사용하는 테이터르 변환하는 기계

컴퓨터에서 사용되는 인터페이스로는 LAN용 케이블에 접속하기 위한 NIC(ENtwork Interface Card) 가 일반적

- 최근의 가정용 PC는 대부분 처음부터 NIC가 부착되어 있어서 별도로 붙이는 경우는 거의 없음ㅁ
- WAN의 경우 통상적으로 PC에는 NIC를 부착하지 않고 DCE(Data Circuit Terminating Equipment: 회선종단기기)라는 별도의 신호 변환기를 사용

LAN 

- LAN용 케이블을 연결하는 NIC
- PC에 달려 있는 인터페이스 NIC에서 송신하는 것

WAN

- WAN 회선의 종단 기기 DCE

- PC의 인터페이스에서 DCE로 신호를 보내면 DCE가 WAN의 케이블에 맞는 신호로 다시 반환신호와 충돌